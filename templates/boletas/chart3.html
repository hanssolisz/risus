<!DOCTYPE html><html lang="en"><head> <meta charset="utf-8" />
<title>Data Visualization Demo in Flask, Leaflet and ChartJS</title> 
<!-- import plugin script --> 
    <link href="{{ url_for('static',filename='styles/css/bootstrap.min.css')}}" rel="stylesheet">

    <link href="{{ url_for('static',filename='styles/css/jumbotron-narrow.css')}}" rel="stylesheet">
<link href="{{ url_for('static',filename='styles/js/jquery-1.11.2.js')}}"></script>
<link href="{{ url_for('static',filename='styles/js/Chart.min.js')}}"></script>
 </head>
 <body> 
    <div class="container">
      <div class="header">
        <nav>
          <ul class="nav nav-pills pull-right">
            <li role="presentation"><a href="/">Home</a></li>
            <li role="presentation"><a href="/chart4">Map</a></li>
            <li role="presentation"><a href="/chart">Bar Chart</a></li>
            <li role="presentation"><a href="/chart2">Line Chart</a></li>
            <li role="presentation" class="active"><a href="/chart3">Pie Chart</a></li>
          </ul>
        </nav>
        <h3 class="text-muted">Flask Leaflet ChartJS</h3>
      </div>
    <canvas id="chart" width="600" height="400"></canvas>
 <footer class="footer">
        <p>&copy; Vizualization Demo</p>
 </footer>
<script>
 
   // pie chart data

   var chartData = [
      {% for data in dataitems %}
      {
        value : {{data.total}},
        label : '{{data.mes}}',
        labelColor: 'white',
        labelFontSize: '16',
        labelAlign: 'center',
        color : '#e74c3c'
      },
      {% endfor %}
   ];

  var options = {
      title: {
        display : true,
        text : 'Pie Chart'
      },
      segmentShowStroke : false,
      animateScale : true
   }

    Chart.defaults.global.animationSteps = 50;
    Chart.defaults.global.tooltipYPadding = 16;
    Chart.defaults.global.tooltipCornerRadius = 0;
    Chart.defaults.global.tooltipTitleFontStyle = "normal";
    Chart.defaults.global.tooltipFillColor = "rgba(0,0,0,0.8)";
    Chart.defaults.global.animationEasing = "easeOutBounce";
    Chart.defaults.global.responsive = false;
    Chart.defaults.global.scaleLineColor = "black";
    Chart.defaults.global.scaleFontSize = 16;

   // get pie chart canvas
   var ctx = document.getElementById("chart").getContext("2d");

   var PieChartDemo = new Chart(ctx).Pie(chartData, options);
   
</script>
</body>
</html>